# https://moonrepo.dev/docs/config/project
$schema: '../../../.moon/cache/schemas/project.json'

language: 'go'

tasks:
  build:
    command: 'go build -o bin/api-golang'
    inputs:
      - '**/*.go'
      - 'go.mod'
      - 'go.sum'
    outputs:
      - 'bin/api-golang'

  dev:
    command: 'go run main.go'
    local: true
    inputs:
      - '**/*.go'
      - 'go.mod'
      - 'go.sum'

  start:
    command: 'go run main.go'
    local: true
    inputs:
      - '**/*.go'
      - 'go.mod'
      - 'go.sum'

  test:
    command: 'go test ./...'
    inputs:
      - '**/*.go'
      - 'go.mod'
      - 'go.sum'

  lint:
    command: 'go vet ./...'
    inputs:
      - '**/*.go'
      - 'go.mod'
      - 'go.sum'

  format:
    command: 'go fmt ./...'
    inputs:
      - '**/*.go'

  tidy:
    command: 'go mod tidy'
    inputs:
      - 'go.mod'
      - 'go.sum'
